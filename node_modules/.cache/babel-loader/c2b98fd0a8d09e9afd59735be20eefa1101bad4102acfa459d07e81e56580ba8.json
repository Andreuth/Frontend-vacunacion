{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lvarg\\\\Desktop\\\\ProyectoWeb\\\\frontend\\\\src\\\\pages\\\\Personas.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState, useContext } from \"react\";\nimport API from \"../api/api\";\nimport { AuthContext } from \"../context/AuthContext\";\nimport PageLayout from \"../components/PageLayout\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Personas() {\n  _s();\n  const {\n    auth\n  } = useContext(AuthContext);\n  const isAdmin = auth.rol === \"admin\";\n  const isMedico = auth.rol === \"medico\";\n  const canEdit = isAdmin || isMedico;\n  const [personas, setPersonas] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showModal, setShowModal] = useState(false);\n  const [editando, setEditando] = useState(null);\n  const [form, setForm] = useState({\n    nombres: \"\",\n    apellidos: \"\",\n    numero_documento: \"\",\n    rol: \"\",\n    password: \"\"\n  });\n  const [msg, setMsg] = useState({\n    type: \"\",\n    text: \"\"\n  });\n  const showMsg = (type, text) => {\n    setMsg({\n      type,\n      text\n    });\n    setTimeout(() => setMsg({\n      type: \"\",\n      text: \"\"\n    }), 3500);\n  };\n  const onChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setForm(p => ({\n      ...p,\n      [name]: value\n    }));\n  };\n  const limpiar = () => {\n    setForm({\n      nombres: \"\",\n      apellidos: \"\",\n      numero_documento: \"\",\n      rol: \"\",\n      password: \"\"\n    });\n    setEditando(null);\n  };\n  const cargarPersonas = async () => {\n    setLoading(true);\n    try {\n      const res = await API.get(\"/personas/\");\n      setPersonas(res.data);\n    } catch {\n      showMsg(\"danger\", \"No se pudo cargar personas.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    cargarPersonas();\n  }, []);\n  const abrirNuevo = () => {\n    limpiar();\n    setShowModal(true);\n  };\n  const abrirEditar = p => {\n    setEditando(p);\n    setForm({\n      nombres: p.nombres,\n      apellidos: p.apellidos,\n      numero_documento: p.numero_documento,\n      rol: p.rol,\n      password: \"\"\n    });\n    setShowModal(true);\n  };\n  const guardar = async e => {\n    e.preventDefault();\n    try {\n      if (!form.rol) {\n        showMsg(\"warning\", \"Selecciona un rol.\");\n        return;\n      }\n      const payload = {\n        nombres: form.nombres,\n        apellidos: form.apellidos,\n        numero_documento: form.numero_documento,\n        rol: form.rol\n      };\n\n      // password solo si NO es hijo\n      if (form.rol !== \"hijo\" && form.password) {\n        payload.password = form.password;\n      }\n      if (editando) {\n        await API.put(`/personas/${editando.id_persona}`, payload);\n        showMsg(\"success\", \"Persona actualizada.\");\n      } else {\n        await API.post(\"/personas/\", payload);\n        showMsg(\"success\", \"Persona creada.\");\n      }\n      setShowModal(false);\n      limpiar();\n      cargarPersonas();\n    } catch (err) {\n      var _err$response, _err$response$data;\n      const detail = err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.detail;\n      showMsg(\"danger\", detail || \"Error al guardar persona.\");\n    }\n  };\n  const eliminar = async id => {\n    if (!window.confirm(\"¿Desactivar esta persona?\")) return;\n    try {\n      await API.delete(`/personas/${id}`);\n      showMsg(\"success\", \"Persona desactivada.\");\n      cargarPersonas();\n    } catch {\n      showMsg(\"danger\", \"No se pudo desactivar.\");\n    }\n  };\n\n  // roles visibles según usuario\n  const rolesDisponibles = () => {\n    if (isAdmin) return [\"admin\", \"medico\", \"padre\", \"hijo\"];\n    if (isMedico) return [\"padre\", \"hijo\"];\n    return [];\n  };\n  const right = /*#__PURE__*/_jsxDEV(\"span\", {\n    className: \"badge text-bg-primary px-3 py-2\",\n    children: [\"Rol: \", /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"fw-semibold\",\n      children: auth.rol\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 12\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 140,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(PageLayout, {\n    title: \"Personas\",\n    subtitle: \"Gesti\\xF3n de usuarios\",\n    right: right,\n    children: [msg.text && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `alert alert-${msg.type} py-2`,\n      role: \"alert\",\n      children: msg.text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 9\n    }, this), canEdit && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex justify-content-end mb-3\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: abrirNuevo,\n        children: \"+ Nueva persona\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 9\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-muted\",\n      children: \"Cargando...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"table-responsive\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"table table-hover align-middle\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          className: \"table-light\",\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"ID\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Nombres\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Documento\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Rol\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Activo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                width: 180\n              },\n              children: \"Acciones\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: personas.map(p => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: p.id_persona\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [p.nombres, \" \", p.apellidos]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: p.numero_documento\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"badge text-bg-secondary\",\n                children: p.rol\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: p.activo ? /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"badge text-bg-success\",\n                children: \"S\\xED\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 23\n              }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"badge text-bg-danger\",\n                children: \"No\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"d-flex gap-2\",\n              children: canEdit ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-sm btn-outline-primary\",\n                  onClick: () => abrirEditar(p),\n                  children: \"Editar\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-sm btn-outline-danger\",\n                  onClick: () => eliminar(p.id_persona),\n                  children: \"Eliminar\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true) : /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-muted fst-italic\",\n                children: \"Solo lectura\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 19\n            }, this)]\n          }, p.id_persona, true, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 9\n    }, this), showModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal fade show d-block\",\n      tabIndex: \"-1\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-dialog modal-lg\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-content\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: guardar,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"modal-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"modal-title\",\n                children: editando ? \"Editar persona\" : \"Nueva persona\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn-close\",\n                onClick: () => setShowModal(false)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"modal-body row g-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label\",\n                  children: \"Nombres *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 240,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"form-control\",\n                  name: \"nombres\",\n                  value: form.nombres,\n                  onChange: onChange,\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 241,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label\",\n                  children: \"Apellidos *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 251,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"form-control\",\n                  name: \"apellidos\",\n                  value: form.apellidos,\n                  onChange: onChange,\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 252,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 250,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label\",\n                  children: \"Documento *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 262,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"form-control\",\n                  name: \"numero_documento\",\n                  value: form.numero_documento,\n                  onChange: onChange,\n                  required: true,\n                  disabled: !!editando\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 263,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label\",\n                  children: \"Rol *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 274,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  className: \"form-select\",\n                  name: \"rol\",\n                  value: form.rol,\n                  onChange: onChange,\n                  required: true,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"Seleccione...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 282,\n                    columnNumber: 23\n                  }, this), rolesDisponibles().map(r => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: r,\n                    children: r\n                  }, r, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 284,\n                    columnNumber: 25\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 19\n              }, this), form.rol !== \"hijo\" && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label\",\n                  children: editando ? \"Nueva contraseña\" : \"Contraseña *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 294,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"password\",\n                  className: \"form-control\",\n                  name: \"password\",\n                  value: form.password,\n                  onChange: onChange,\n                  required: !editando\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 297,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 293,\n                columnNumber: 21\n              }, this), form.rol === \"hijo\" && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-12\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"alert alert-info py-2\",\n                  children: [\"Los usuarios con rol \", /*#__PURE__*/_jsxDEV(\"b\", {\n                    children: \"hijo\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 311,\n                    columnNumber: 46\n                  }, this), \" no tienen contrase\\xF1a ni acceso al sistema.\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 310,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"modal-footer\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn btn-outline-secondary\",\n                onClick: () => setShowModal(false),\n                children: \"Cancelar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-primary\",\n                children: \"Guardar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 146,\n    columnNumber: 5\n  }, this);\n}\n_s(Personas, \"+wIC6Q+XbKywEDlZEl1tYoEjZGs=\");\n_c = Personas;\nexport default Personas;\nvar _c;\n$RefreshReg$(_c, \"Personas\");","map":{"version":3,"names":["useEffect","useState","useContext","API","AuthContext","PageLayout","jsxDEV","_jsxDEV","Fragment","_Fragment","Personas","_s","auth","isAdmin","rol","isMedico","canEdit","personas","setPersonas","loading","setLoading","showModal","setShowModal","editando","setEditando","form","setForm","nombres","apellidos","numero_documento","password","msg","setMsg","type","text","showMsg","setTimeout","onChange","e","name","value","target","p","limpiar","cargarPersonas","res","get","data","abrirNuevo","abrirEditar","guardar","preventDefault","payload","put","id_persona","post","err","_err$response","_err$response$data","detail","response","eliminar","id","window","confirm","delete","rolesDisponibles","right","className","children","fileName","_jsxFileName","lineNumber","columnNumber","title","subtitle","role","onClick","style","width","map","activo","tabIndex","onSubmit","required","disabled","r","_c","$RefreshReg$"],"sources":["C:/Users/lvarg/Desktop/ProyectoWeb/frontend/src/pages/Personas.js"],"sourcesContent":["import { useEffect, useState, useContext } from \"react\";\r\nimport API from \"../api/api\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\nimport PageLayout from \"../components/PageLayout\";\r\n\r\nfunction Personas() {\r\n  const { auth } = useContext(AuthContext);\r\n\r\n  const isAdmin = auth.rol === \"admin\";\r\n  const isMedico = auth.rol === \"medico\";\r\n\r\n  const canEdit = isAdmin || isMedico;\r\n\r\n  const [personas, setPersonas] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [editando, setEditando] = useState(null);\r\n\r\n  const [form, setForm] = useState({\r\n    nombres: \"\",\r\n    apellidos: \"\",\r\n    numero_documento: \"\",\r\n    rol: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  const [msg, setMsg] = useState({ type: \"\", text: \"\" });\r\n  const showMsg = (type, text) => {\r\n    setMsg({ type, text });\r\n    setTimeout(() => setMsg({ type: \"\", text: \"\" }), 3500);\r\n  };\r\n\r\n  const onChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setForm((p) => ({ ...p, [name]: value }));\r\n  };\r\n\r\n  const limpiar = () => {\r\n    setForm({\r\n      nombres: \"\",\r\n      apellidos: \"\",\r\n      numero_documento: \"\",\r\n      rol: \"\",\r\n      password: \"\",\r\n    });\r\n    setEditando(null);\r\n  };\r\n\r\n  const cargarPersonas = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const res = await API.get(\"/personas/\");\r\n      setPersonas(res.data);\r\n    } catch {\r\n      showMsg(\"danger\", \"No se pudo cargar personas.\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    cargarPersonas();\r\n  }, []);\r\n\r\n  const abrirNuevo = () => {\r\n    limpiar();\r\n    setShowModal(true);\r\n  };\r\n\r\n  const abrirEditar = (p) => {\r\n    setEditando(p);\r\n    setForm({\r\n      nombres: p.nombres,\r\n      apellidos: p.apellidos,\r\n      numero_documento: p.numero_documento,\r\n      rol: p.rol,\r\n      password: \"\",\r\n    });\r\n    setShowModal(true);\r\n  };\r\n\r\n  const guardar = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      if (!form.rol) {\r\n        showMsg(\"warning\", \"Selecciona un rol.\");\r\n        return;\r\n      }\r\n\r\n      const payload = {\r\n        nombres: form.nombres,\r\n        apellidos: form.apellidos,\r\n        numero_documento: form.numero_documento,\r\n        rol: form.rol,\r\n      };\r\n\r\n      // password solo si NO es hijo\r\n      if (form.rol !== \"hijo\" && form.password) {\r\n        payload.password = form.password;\r\n      }\r\n\r\n      if (editando) {\r\n        await API.put(`/personas/${editando.id_persona}`, payload);\r\n        showMsg(\"success\", \"Persona actualizada.\");\r\n      } else {\r\n        await API.post(\"/personas/\", payload);\r\n        showMsg(\"success\", \"Persona creada.\");\r\n      }\r\n\r\n      setShowModal(false);\r\n      limpiar();\r\n      cargarPersonas();\r\n    } catch (err) {\r\n      const detail = err?.response?.data?.detail;\r\n      showMsg(\"danger\", detail || \"Error al guardar persona.\");\r\n    }\r\n  };\r\n\r\n  const eliminar = async (id) => {\r\n    if (!window.confirm(\"¿Desactivar esta persona?\")) return;\r\n    try {\r\n      await API.delete(`/personas/${id}`);\r\n      showMsg(\"success\", \"Persona desactivada.\");\r\n      cargarPersonas();\r\n    } catch {\r\n      showMsg(\"danger\", \"No se pudo desactivar.\");\r\n    }\r\n  };\r\n\r\n  // roles visibles según usuario\r\n  const rolesDisponibles = () => {\r\n    if (isAdmin) return [\"admin\", \"medico\", \"padre\", \"hijo\"];\r\n    if (isMedico) return [\"padre\", \"hijo\"];\r\n    return [];\r\n  };\r\n\r\n  const right = (\r\n    <span className=\"badge text-bg-primary px-3 py-2\">\r\n      Rol: <span className=\"fw-semibold\">{auth.rol}</span>\r\n    </span>\r\n  );\r\n\r\n  return (\r\n    <PageLayout title=\"Personas\" subtitle=\"Gestión de usuarios\" right={right}>\r\n      {msg.text && (\r\n        <div className={`alert alert-${msg.type} py-2`} role=\"alert\">\r\n          {msg.text}\r\n        </div>\r\n      )}\r\n\r\n      {canEdit && (\r\n        <div className=\"d-flex justify-content-end mb-3\">\r\n          <button className=\"btn btn-primary\" onClick={abrirNuevo}>\r\n            + Nueva persona\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {loading ? (\r\n        <div className=\"text-muted\">Cargando...</div>\r\n      ) : (\r\n        <div className=\"table-responsive\">\r\n          <table className=\"table table-hover align-middle\">\r\n            <thead className=\"table-light\">\r\n              <tr>\r\n                <th>ID</th>\r\n                <th>Nombres</th>\r\n                <th>Documento</th>\r\n                <th>Rol</th>\r\n                <th>Activo</th>\r\n                <th style={{ width: 180 }}>Acciones</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {personas.map((p) => (\r\n                <tr key={p.id_persona}>\r\n                  <td>{p.id_persona}</td>\r\n                  <td>\r\n                    {p.nombres} {p.apellidos}\r\n                  </td>\r\n                  <td>{p.numero_documento}</td>\r\n                  <td>\r\n                    <span className=\"badge text-bg-secondary\">{p.rol}</span>\r\n                  </td>\r\n                  <td>\r\n                    {p.activo ? (\r\n                      <span className=\"badge text-bg-success\">Sí</span>\r\n                    ) : (\r\n                      <span className=\"badge text-bg-danger\">No</span>\r\n                    )}\r\n                  </td>\r\n                  <td className=\"d-flex gap-2\">\r\n                    {canEdit ? (\r\n                      <>\r\n                        <button\r\n                          className=\"btn btn-sm btn-outline-primary\"\r\n                          onClick={() => abrirEditar(p)}\r\n                        >\r\n                          Editar\r\n                        </button>\r\n                        <button\r\n                          className=\"btn btn-sm btn-outline-danger\"\r\n                          onClick={() => eliminar(p.id_persona)}\r\n                        >\r\n                          Eliminar\r\n                        </button>\r\n                      </>\r\n                    ) : (\r\n                      <span className=\"text-muted fst-italic\">Solo lectura</span>\r\n                    )}\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      )}\r\n\r\n      {/* MODAL */}\r\n      {showModal && (\r\n        <div className=\"modal fade show d-block\" tabIndex=\"-1\">\r\n          <div className=\"modal-dialog modal-lg\">\r\n            <div className=\"modal-content\">\r\n              <form onSubmit={guardar}>\r\n                <div className=\"modal-header\">\r\n                  <h5 className=\"modal-title\">\r\n                    {editando ? \"Editar persona\" : \"Nueva persona\"}\r\n                  </h5>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn-close\"\r\n                    onClick={() => setShowModal(false)}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"modal-body row g-3\">\r\n                  <div className=\"col-md-6\">\r\n                    <label className=\"form-label\">Nombres *</label>\r\n                    <input\r\n                      className=\"form-control\"\r\n                      name=\"nombres\"\r\n                      value={form.nombres}\r\n                      onChange={onChange}\r\n                      required\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"col-md-6\">\r\n                    <label className=\"form-label\">Apellidos *</label>\r\n                    <input\r\n                      className=\"form-control\"\r\n                      name=\"apellidos\"\r\n                      value={form.apellidos}\r\n                      onChange={onChange}\r\n                      required\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"col-md-6\">\r\n                    <label className=\"form-label\">Documento *</label>\r\n                    <input\r\n                      className=\"form-control\"\r\n                      name=\"numero_documento\"\r\n                      value={form.numero_documento}\r\n                      onChange={onChange}\r\n                      required\r\n                      disabled={!!editando}\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"col-md-6\">\r\n                    <label className=\"form-label\">Rol *</label>\r\n                    <select\r\n                      className=\"form-select\"\r\n                      name=\"rol\"\r\n                      value={form.rol}\r\n                      onChange={onChange}\r\n                      required\r\n                    >\r\n                      <option value=\"\">Seleccione...</option>\r\n                      {rolesDisponibles().map((r) => (\r\n                        <option key={r} value={r}>\r\n                          {r}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n\r\n                  {/* PASSWORD solo si NO es hijo */}\r\n                  {form.rol !== \"hijo\" && (\r\n                    <div className=\"col-md-6\">\r\n                      <label className=\"form-label\">\r\n                        {editando ? \"Nueva contraseña\" : \"Contraseña *\"}\r\n                      </label>\r\n                      <input\r\n                        type=\"password\"\r\n                        className=\"form-control\"\r\n                        name=\"password\"\r\n                        value={form.password}\r\n                        onChange={onChange}\r\n                        required={!editando}\r\n                      />\r\n                    </div>\r\n                  )}\r\n\r\n                  {form.rol === \"hijo\" && (\r\n                    <div className=\"col-12\">\r\n                      <div className=\"alert alert-info py-2\">\r\n                        Los usuarios con rol <b>hijo</b> no tienen contraseña ni acceso al sistema.\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                <div className=\"modal-footer\">\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-outline-secondary\"\r\n                    onClick={() => setShowModal(false)}\r\n                  >\r\n                    Cancelar\r\n                  </button>\r\n                  <button className=\"btn btn-primary\">Guardar</button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </PageLayout>\r\n  );\r\n}\r\n\r\nexport default Personas;\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}